# Шованс (Show once) - сервис обмена текстами, которые доступны для чтения только один раз

## Назначение

Предоставить **Отправителю** возможность сохранить на сервере некую текстовую информацию (например, пароль) и ограничить доступ к ней единственным **адресатом**.
Цель - гарантировать, что легитимный **адресат** или будет единственным или вообще не получит доступ к информации (что будет означать утечку).

При этом на **адресата** не должно накладываться требований по безопасности (вроде наличия ЭЦП или токена), кроме визуального контроля атрибутов сертификата сервиса.

Т.о., в первой версии считается допустимым сценарий, при котором пользователь может получить фальшивый URL, пройти по ссылке и увидеть похожий сайт, который запросит информацию с легального, покажет ее пользователю и сохранит у себя.

## Атрибуты текста

* ID - уникальный идентификатор текста (UUID)
* Название - описание текста, доступное многократно
* Срок жизни - момент автоудаления текта
* Контент - сам текст, удаляется после первого показа
* Время удаления - момент показа (и удаления) текста
* Группа - уникальный идентификатор группы текстов (UUID)

## Алгоритм

**Отправитель** 

* авторизуется
* открывает страницу "Создать"
* вводит информацию
* нажимает "Сохранить"
* получает ссылку на доступ к информации

**Адресат**

* открывает ссылку доступа
* видит название текста, срок жизни и ссылку "Показать"
* после нажатия "Показать" - видит сам текст
* при отправке текста адресату он удаляется на сервере и формируется уведомление для **Отправителя**

**Отправитель** 

* авторизуется
* на открывшейся после авторизации странице видит список своих текстов с атрибутами
  * ссылка
  * название
  * факт показа (IP адресата) 
  * время показа (до показа - время удаления текста)
* список может быть отфильтрован по
  * факту показа
  * значению поля "Группа"

## Архитектура

Сервис представляет собой сайт со следующими страницами
* главная (/), содержит
  * описание сервиса
  * ссылку на авторизацию отправителя
  * поле ввода идентификатора текста
* метаданные текста (/msg?id=XXX), содержит
  * все атрибуты текста (кроме контента)
  * ссылку "Показать" (если не было показа, иначе - время показа)
* контент (POST /msg?id=XXX), содержит
  * при первом запросе - текст, иначе - 404
* кабинет отправителя (/my), доступен после авторизации и содержит
  * ссылку "создать"
  * список созданных текстов
* создание текста (/my/add), содержит
  * форму с атрибутами текста
  * кнопку "Создать"

## Авторизация отправителя

Этот функционал пока проектируется. Возможные варианты:

* email
* gitea
* telegram
* [gotify](https://gotify.net/)


## Дополнения

### Атрибуты

### Группа

уникальный идентификатор группы текстов первоначально формируется автоматически и указывается в форме с атрибутами текста. Отправитель может заменить это значение на любое из групп созданных им ранее текстов.

Назначение атрибута - фильтрация списка созданных текстов в кабинете
